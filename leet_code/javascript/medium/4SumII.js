// Problem 454 4Sum II

// Approach 1 Time Limit Exceeded
const fourSome1 = (A, B, C, D) => {
  let count = 0;
  const lists = [A, B, C, D];

  const sumCheck = (sum, index) => {
    if (index === 4) {
      if (sum === 0) count += 1;
      return;
    }

    const nums = lists[index];
    for (const n of nums) sumCheck(sum + n, index + 1);
  };

  sumCheck(0,0);

  return count;
};

const fourSome = (A, B, C, D) => {
  const savedSums = new Map();

  for (let i = 0; i < A.length; i++) {
    for (let j = 0; j < B.length; j++) {
      let sum = A[i] + B[j];
      savedSums.has(sum) ? savedSums.set(sum, savedSums.get(sum) + 1) : savedSums.set(sum, 1);
    }
  }

  let count = 0;

  for (let i = 0; i < C.length; i++) {
    for (let j = 0; j < D.length; j++) {
      let sum = 0 - (C[i] + D[j]);
      if (savedSums.has(sum)) count += savedSums.get(sum);
    }
  }
  return count;
};

let A = [1, 2];
let B = [-2, -1];
let C = [-1, 2];
let D = [0, 2];
// let A = [-6, 6, -19, -22, 6, 9, -2, -2, -7, 3, -27, -1, -22, -21, -24, -14, -5, -21, 4, -13, -27, -10, -17, -1, -15, 10, -2, -18, -20, 9, -2, -23, -10, 3, 0, -4, -16, -14, -11, 4, 4, -28, -13, 8, -1, -26, -32, -8, 10, -12, -32, -7, -8, -22, -13, -24, 4, -12, -30, -2, -4, 9, -24, -30, -2, -1, -13, -32, -23, -28, 9, -13, 6, -2, -20, 2, 10, 0, -2, 8, -14, -30, -15, -2, -2, 0, -13, -19, -20, -24, -10, -7, 2, -6, -18, -11, -2, 9, -7, -7]
// let B = [3, -21, -3, -26, -14, -21, -29, -10, 5, 6, -18, -24, 8, 7, -19, -6, -11, -18, -22, -24, -10, -31, 1, -25, 4, 1, -31, -9, -12, 3, 0, -32, 1, 7, -31, -17, -4, -11, 2, 0, -31, -23, -14, -27, -13, 8, -24, -10, -8, -9, -4, -20, -14, -18, 4, -17, -19, -18, -30, -27, -16, 1, 3, -30, -26, -16, -9, 8, 0, -1, 0, -21, -15, 2, -6, -16, -6, -4, -20, -23, -13, 3, -22, -31, -11, -5, -29, -17, -3, -16, -5, 5, 7, -27, -25, -29, -32, -14, -5, -14]
// let C = [-9, 9, -8, 8, -13, -21, -10, 8, -13, 4, -13, 10, -1, -17, -14, -28, -20, -7, 5, -6, -23, -19, 6, -13, 10, -12, -24, 1, -31, -30, -27, 5, -23, -18, 4, -23, -4, -4, -32, -12, -9, -9, -26, -24, 2, -17, 5, -26, -13, -11, -14, 8, -31, 2, -26, -1, -10, -8, -14, -14, 6, -23, -25, 2, -10, -27, -23, -5, -22, -2, -29, -30, -13, -14, 0, 10, -21, 0, -28, -31, 0, -16, -27, -14, 8, -4, 7, -23, -20, -12, -11, -28, -9, -3, -18, 7, -8, -7, -13, -2]
// let D = [1, -5, -15, -13, 8, 0, -16, -12, -19, -3, 7, -27, -18, 8, -12, -27, -20, 1, 6, 1, -22, -30, -20, -18, 6, -30, -5, -23, -7, -4, -23, -5, -21, 2, -26, -8, -21, 10, -12, -22, -2, 0, 6, -25, -26, -4, 3, 3, -28, 4, -29, -16, -31, 6, -7, -11, -9, -6, -17, -1, -11, -15, -29, -9, 6, -20, -22, 1, -15, -3, -11, -17, -27, -5, 5, -24, 0, -26, 9, 8, -30, -24, -29, -10, -8, 2, -23, -16, -25, 8, -11, -24, -7, -16, -13, -10, -25, -17, -27, -15]
console.log(fourSome(A,B,C,D));
